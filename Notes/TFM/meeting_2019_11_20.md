# Meeting 2019-11-20



## Types of Gang scheduling

- Bag of Gangs (BoG)
- Adapted first come first served (AFCSFS): When a job arrives if there are enough cores available then it will be scheduled, if not it will have to wait until the number of cores are available. If a smaller job comes and there are enough cores for it then the smaller job will be scheduled
- Largest gang first served (LGFS)
- Paired gang scheduling

## Papers

### Performance and Cost Evaluation of Gang Scheduling in a Cloud Computing System with Job Migrations and Starvation Handling

- Gang studied in the area of distributed systems
- Integrates two important features:
  - Job migrations
  - Starvation handling
- Important related papers:
  - Z. C. Papazachos "The impact of task service time variability on gang scheduling performance in a two-cluster system"
  - B. Sotomayor "Resource leasing and the art of suspending virtual machines"

### Evaluation of gang scheduling performance and cost in a cloud computing system

- Gang scheduling has been extensively studied in Grid systems
- They compare **AFCFS** and **LJFS**
- Tested in Amazon's EC2 cloud computing instances
- It's non-preemptive







## FP Gang scheduling

There is an example where the formulation is wrong:

> ***
>
> **Example**:
>
> ![Example of schedule where the higher priority task could start before](images/2019/11/05/schedule.png){width=50%}
>
> | $i$  | $r_i^{\min}$ | $r_i^{\max}$ | $S_i^{\min}$ | $S_i^{\max}$ | $EST_i^1$ | $EST_i^2$ | $EST_i^3$ | $EST_i^4$ | $LST_i$ |
> | ---- | ------------ | ------------ | ------------ | ------------ | --------- | --------- | --------- | --------- | ------- |
> | 1    | 5            | 5            | 1            | 4            | 6         | 8         | 8         | 11        | 8       |
> | 2    | 6            | 10           | 1            | 4            | 6         | 8         | 8         | 11        | 7       |
>
> In this case the lower priority job $J_2$ has a Latest Start Time of 7 because if it starts at 8 then for sure the higher priority job $J_1$ is going to be executing however, $J_2$ has assumed that $J_1$ cannot start because core 2 is busy but if $J_2$ can start because core is no longer busy then $J_1$ can also start too and it will be scheduled instead of $J_2$ because it has a higher priority
>
> ***

There's is another example where the formulation is wrong
> ***
>
> ![](images/2019/11/05/schedule_2.png){width=50%}
>
> | $i$  | $r_i^{\min}$ | $r_i^{\max}$ | $S_i^{\min}$ | $S_i^{\max}$ | $EST_i^1$ | $EST_i^2$ | $EST_i^3$ | $EST_i^4$ | $LST_i$ |
> | ---- | ------------ | ------------ | ------------ | ------------ | --------- | --------- | --------- | --------- | ------- |
> | 1    | 0            | 3            | 1            | 3            | 2         | 3         | 3         |           | 3       |
>
> Eligibility condition with $p=1$:
> 
> $$
> \begin{aligned}
> EST_i^p &\le LST_i \land (p=s_i^{\max} \lor EST_i^p< A_{p+1}^{\max}) \\
> 2 &\le 3 \land(1 = 3 \lor 1 < 6) \\
> \top &\land (\bot \lor \top) = \top
> \end{aligned}
> $$
> 
> Eligibility condition with $p=2$
>
> 
> $$
> \begin{aligned}
> EST_i^p &\le LST_i \land (p=s_i^{\max} \lor EST_i^p< A_{p+1}^{\max}) \\
> 3 &\le 3 \land(2 = 3 \lor 1 < 6) \\
> \top &\land (\bot \lor \top) = \top
> \end{aligned}
> $$
> 
> So we say that execution with $p=2$ is possible while it is clearly not possible since a work conserving scheduler will have executed us with $p=1$
>
> ***
